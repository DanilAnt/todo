{"remainingRequest":"/Users/Danil/Desktop/todo — копия/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue","mtime":1630255028926},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZvcm0gOiB7CiAgICAgICAgICAgICAgICBuYW1lIDogIiIsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6ICIiLAogICAgICAgICAgICAgICAgc3RhdHVzIDogItCaINCy0YvQv9C+0LvQvdC10L3QuNGOIiwKICAgICAgICAgICAgICAgIGltZyA6ICIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1JbWFnZSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtSW1hZ2UiKSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kcyA6IHsKICAgICAgICBhZGRUb2RvKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1JbWFnZSIpLmZpbGVzWzBdKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNhdmVQaWN0dXJlKCk7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm0uaW1nID0gdGhpcy5zYXZlUGljdHVyZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnQUREX1RPRE8nLCB0aGlzLmZvcm0pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZSA6ICdtYWluJ30pOwogICAgICAgICAgICB0aGlzLiRlbWl0KCd0b2RvQWRkZWQnKTsKICAgICAgICB9LAogICAgICAgIHNob3dQaWN0dXJlKCkgewogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldycpOwogICAgICAgICAgICBjb25zdCBmb3JtSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9ybUltYWdlIik7CiAgICAgICAgICAgIGxldCBmaWxlID0gZm9ybUltYWdlLmZpbGVzWzBdOwogICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYDxpbWcgc3JjPSIke2UudGFyZ2V0LnJlc3VsdH0iIGFsdD0icGhvdG8iPmA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGFsZXJ0KGBFUlJPUiAke2V9YCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgfSwKICAgICAgICBzYXZlUGljdHVyZSgpIHsKICAgICAgICAgICAgY29uc3QgZm9ybUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybUVsZW0nKTsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybUVsZW0pOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXInLCB0aGlzLiRzdG9yZS5nZXR0ZXJzLlVTRVIpOwogICAgICAgICAgICBsZXQgc2VuZEZvcm0gPSBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnc2F2ZUZpbGUucGhwJywgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5pbWcgPSByZXN1bHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VuZEZvcm0oKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue"],"names":[],"mappings":";;AA4CA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACH,CAAC,CAAC,CAAC,EAAE,EAAE;gBACH,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvB,CAAC,CAAC,EAAE,EAAE,CAAC;YACX,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD;IACJ,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACN,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC;YACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACV,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;Y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","file":"/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"add-todo container\">\n        <div class=\"add-todo__inner\">\n            <button type=\"button\" @click=\"$router.push({name : 'main'})\">На главную</button>\n        </div>\n        <form class=\"add-todo__form\" id=\"formElem\">\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Наименование задачи:</span> <input  type=\"text\" v-model=\"form.name\" placeholder=\"введите название\">\n            </div>\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Описание:</span> <textarea class=\"add-todo__description\" type=\"text\" v-model=\"form.description\" placeholder=\"опишите задачу\"></textarea>\n            </div>\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Статус:</span>\n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"for_execution\" value=\"К выполнению\" v-model=\"form.status\">  \n                    <label for=\"for_execution\">К выполнению</label>\n                </div> \n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"in_progress\" value=\"В процессе\" v-model=\"form.status\"> \n                    <label for=\"in_progress\">В процессе</label>\n                </div>\n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"done\" value=\"Выполнено\" v-model=\"form.status\"> \n                    <label for=\"done\">Выполнено</label>\n                </div> \n            </div>\n            \n            <div class=\"add-todo__item add-todo__item--column\">\n                <div class=\"add-todo__preview\" id=\"preview\"></div>\n                <input class=\"add-todo__input--hide\" type=\"file\" name=\"picture\" id=\"formImage\" accept=\"image/*\" @change=\"showPicture\">\n                <label class=\"add-todo__button\" for=\"formImage\">Загрузите изображение</label>\n                \n            </div>\n            \n            <div class=\"add-todo__item\">\n                <button type=\"submit\" class=\"main__button\" @click=\"addTodo\">Добавить задачу</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            form : {\n                name : \"\",\n                description : \"\",\n                status : \"К выполнению\",\n                img : \"\"\n            },\n            formImage : document.getElementById(\"formImage\"),\n        }\n    },\n    methods : {\n        addTodo() {\n            if (document.getElementById(\"formImage\").files[0]) {\n                this.savePicture();\n                // this.form.img = this.savePicture();\n            }\n            this.$store.commit('ADD_TODO', this.form);\n            this.$router.push({name : 'main'});\n            this.$emit('todoAdded');\n        },\n        showPicture() {\n            const container = document.getElementById('preview');\n            const formImage = document.getElementById(\"formImage\");\n            let file = formImage.files[0];\n            let reader = new FileReader();\n            reader.onload = function (e) {\n                container.innerHTML = `<img src=\"${e.target.result}\" alt=\"photo\">`;\n            }\n            reader.onerror = function(e){\n                alert(`ERROR ${e}`);\n            }\n            reader.readAsDataURL(file);\n        },\n        savePicture() {\n            const formElem = document.getElementById('formElem');\n            const formData = new FormData(formElem);\n            formData.append('user', this.$store.getters.USER);\n            let sendForm = async () => {\n                let response = await fetch('saveFile.php', {\n                    method: 'POST',\n                    body: formData\n                });\n                let result = await response.text();\n                \n                this.form.img = result;\n            }\n            sendForm();\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.add-todo__inner{\n   display: flex;\n   justify-content: flex-start;\n}\n.add-todo__form{\n    display: flex;\n    flex-direction: column;\n}\n.add-todo__item{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 15px 0;\n    &--column{\n        flex-direction: column;\n    }\n    @media (max-width: 700px) {\n        flex-direction: column;\n    }\n}\n.add-todo__name{\n    margin-right: 20px;\n    font-weight: 600;\n}\n.add-todo__input{\n    margin: 5px 6px;\n    &--hide{\n        position: absolute;\n        z-index: -1;\n        opacity: 0;\n    }\n}\n.add-todo__description{\n    width: 100%;\n    max-width: 500px;\n    height: 100px;\n}\n.add-todo__button{\n    padding: 5px 10px;\n    background-color: white;\n    border-radius: 7px;\n    border: 2px solid #2c3e50;\n    color: #2c3e50;\n    transition: linear 0.2s;\n    margin: 5px;\n    &:hover {\n      background-color: lighten($color: #2c3e50, $amount: 65);\n    }\n}\n.add-todo__preview{\n    width: 300px;\n    max-height: 300px; \n    margin-bottom: 25px;\n    img{\n        object-fit: cover;\n    }\n}\n</style>"]}]}