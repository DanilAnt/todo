{"remainingRequest":"/Applications/MAMP/htdocs/todo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Applications/MAMP/htdocs/todo/src/views/AddTodo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/MAMP/htdocs/todo/src/views/AddTodo.vue","mtime":1630233894994},{"path":"/Applications/MAMP/htdocs/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/todo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Applications/MAMP/htdocs/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/MAMP/htdocs/todo/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZvcm0gOiB7CiAgICAgICAgICAgICAgICBuYW1lIDogIiIsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6ICIiLAogICAgICAgICAgICAgICAgc3RhdHVzIDogItCaINCy0YvQv9C+0LvQvdC10L3QuNGOIiwKICAgICAgICAgICAgICAgIGltZyA6ICIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1JbWFnZSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtSW1hZ2UiKSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kcyA6IHsKICAgICAgICBhZGRUb2RvKCkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1JbWFnZSIpLmZpbGVzWzBdKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNhdmVQaWN0dXJlKCk7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm0uaW1nID0gdGhpcy5zYXZlUGljdHVyZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnQUREX1RPRE8nLCB0aGlzLmZvcm0pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZSA6ICdtYWluJ30pOwogICAgICAgIH0sCiAgICAgICAgc2hvd1BpY3R1cmUoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3Jyk7CiAgICAgICAgICAgIGNvbnN0IGZvcm1JbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtSW1hZ2UiKTsKICAgICAgICAgICAgbGV0IGZpbGUgPSBmb3JtSW1hZ2UuZmlsZXNbMF07CiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgPGltZyBzcmM9IiR7ZS50YXJnZXQucmVzdWx0fSIgYWx0PSJwaG90byI+YDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgYWxlcnQoYEVSUk9SICR7ZX1gKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICB9LAogICAgICAgIHNhdmVQaWN0dXJlKCkgewogICAgICAgICAgICBjb25zdCBmb3JtRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtRWxlbScpOwogICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtRWxlbSk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcicsIHRoaXMuJHN0b3JlLmdldHRlcnMuVVNFUik7CiAgICAgICAgICAgIGxldCBzZW5kRm9ybSA9IGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvc2F2ZUZpbGUucGhwJywgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5pbWcgPSByZXN1bHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VuZEZvcm0oKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["/Applications/MAMP/htdocs/todo/src/views/AddTodo.vue"],"names":[],"mappings":";;AAsBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACH,CAAC,CAAC,CAAC,EAAE,EAAE;gBACH,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvB,CAAC,CAAC,EAAE,EAAE,CAAC;YACX,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD;IACJ,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACN,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC;YACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACV,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,C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","file":"/Applications/MAMP/htdocs/todo/src/views/AddTodo.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"add-todo\">\n         <button type=\"button\" @click=\"$router.push({name : 'main'})\">На главную</button>\n        <form class=\"add-todo__form\" id=\"formElem\">\n            Наименование задачи: <input type=\"text\" v-model=\"form.name\" placeholder=\"введите название\">\n            Описание: <input type=\"text\" v-model=\"form.description\" placeholder=\"опишите задачу\">\n            Статус: \n            <input type=\"radio\" id=\"for_execution\" value=\"К выполнению\" v-model=\"form.status\">  \n            <label for=\"for_execution\">К выполнению</label>\n            <input type=\"radio\" id=\"in_progress\" value=\"В процессе\" v-model=\"form.status\"> \n            <label for=\"in_progress\">В процессе</label>\n            <input type=\"radio\" id=\"done\" value=\"Выполнено\" v-model=\"form.status\"> \n            <label for=\"done\">Выполнено</label>\n            <input type=\"file\" name=\"picture\" id=\"formImage\" accept=\"image/*\" @change=\"showPicture\">\n            <div class=\"add-todo__preview\" id=\"preview\"></div>\n            <button type=\"submit\" class=\"main__button\" @click=\"addTodo\">Добавить задачу</button>\n        </form>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            form : {\n                name : \"\",\n                description : \"\",\n                status : \"К выполнению\",\n                img : \"\"\n            },\n            formImage : document.getElementById(\"formImage\"),\n        }\n    },\n    methods : {\n        addTodo() {\n            if (document.getElementById(\"formImage\").files[0]) {\n                this.savePicture();\n                // this.form.img = this.savePicture();\n            }\n            this.$store.commit('ADD_TODO', this.form);\n            this.$router.push({name : 'main'});\n        },\n        showPicture() {\n            const container = document.getElementById('preview');\n            const formImage = document.getElementById(\"formImage\");\n            let file = formImage.files[0];\n            let reader = new FileReader();\n            reader.onload = function (e) {\n                container.innerHTML = `<img src=\"${e.target.result}\" alt=\"photo\">`;\n            }\n            reader.onerror = function(e){\n                alert(`ERROR ${e}`);\n            }\n            reader.readAsDataURL(file);\n        },\n        savePicture() {\n            const formElem = document.getElementById('formElem');\n            const formData = new FormData(formElem);\n            formData.append('user', this.$store.getters.USER);\n            let sendForm = async () => {\n                let response = await fetch('http://localhost:8888/saveFile.php', {\n                    method: 'POST',\n                    body: formData\n                });\n                let result = await response.text();\n                \n                this.form.img = result;\n            }\n            sendForm();\n        }\n    }\n}\n</script>"]}]}