{"remainingRequest":"/Users/Danil/Desktop/todo — копия/node_modules/thread-loader/dist/cjs.js!/Users/Danil/Desktop/todo — копия/node_modules/babel-loader/lib/index.js!/Users/Danil/Desktop/todo — копия/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Danil/Desktop/todo — копия/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue","mtime":1630255028926},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo — копия/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9EYW5pbC9EZXNrdG9wL3RvZG9ceEEwXHUyMDE0IFx1MDQzQVx1MDQzRVx1MDQzRlx1MDQzOFx1MDQ0Ri9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBzdGF0dXM6ICLQmiDQstGL0L/QvtC70L3QtdC90LjRjiIsCiAgICAgICAgaW1nOiAiIgogICAgICB9LAogICAgICBmb3JtSW1hZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtSW1hZ2UiKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFRvZG86IGZ1bmN0aW9uIGFkZFRvZG8oKSB7CiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9ybUltYWdlIikuZmlsZXNbMF0pIHsKICAgICAgICB0aGlzLnNhdmVQaWN0dXJlKCk7IC8vIHRoaXMuZm9ybS5pbWcgPSB0aGlzLnNhdmVQaWN0dXJlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnQUREX1RPRE8nLCB0aGlzLmZvcm0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ21haW4nCiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCd0b2RvQWRkZWQnKTsKICAgIH0sCiAgICBzaG93UGljdHVyZTogZnVuY3Rpb24gc2hvd1BpY3R1cmUoKSB7CiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldycpOwogICAgICB2YXIgZm9ybUltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1JbWFnZSIpOwogICAgICB2YXIgZmlsZSA9IGZvcm1JbWFnZS5maWxlc1swXTsKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gIjxpbWcgc3JjPVwiIi5jb25jYXQoZS50YXJnZXQucmVzdWx0LCAiXCIgYWx0PVwicGhvdG9cIj4iKTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBhbGVydCgiRVJST1IgIi5jb25jYXQoZSkpOwogICAgICB9OwoKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICB9LAogICAgc2F2ZVBpY3R1cmU6IGZ1bmN0aW9uIHNhdmVQaWN0dXJlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1FbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1FbGVtJyk7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtRWxlbSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcicsIHRoaXMuJHN0b3JlLmdldHRlcnMuVVNFUik7CgogICAgICB2YXIgc2VuZEZvcm0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIHJlc3BvbnNlLCByZXN1bHQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ3NhdmVGaWxlLnBocCcsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpcy5mb3JtLmltZyA9IHJlc3VsdDsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2VuZEZvcm0oKSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKTsKCiAgICAgIHNlbmRGb3JtKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/Danil/Desktop/todo — копия/src/views/AddTodo.vue"],"names":[],"mappings":";;;AA4CA,eAAe;AACX,EAAA,IADW,kBACJ;AACH,WAAO;AACH,MAAA,IAAG,EAAI;AACH,QAAA,IAAG,EAAI,EADJ;AAEH,QAAA,WAAU,EAAI,EAFX;AAGH,QAAA,MAAK,EAAI,cAHN;AAIH,QAAA,GAAE,EAAI;AAJH,OADJ;AAOH,MAAA,SAAQ,EAAI,QAAQ,CAAC,cAAT,CAAwB,WAAxB;AAPT,KAAP;AASH,GAXU;AAYX,EAAA,OAAM,EAAI;AACN,IAAA,OADM,qBACI;AACN,UAAI,QAAQ,CAAC,cAAT,CAAwB,WAAxB,EAAqC,KAArC,CAA2C,CAA3C,CAAJ,EAAmD;AAC/C,aAAK,WAAL,GAD+C,CAE/C;AACJ;;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,UAAnB,EAA+B,KAAK,IAApC;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAC,QAAA,IAAG,EAAI;AAAR,OAAlB;AACA,WAAK,KAAL,CAAW,WAAX;AACH,KATK;AAUN,IAAA,WAVM,yBAUQ;AACV,UAAM,SAAQ,GAAI,QAAQ,CAAC,cAAT,CAAwB,SAAxB,CAAlB;AACA,UAAM,SAAQ,GAAI,QAAQ,CAAC,cAAT,CAAwB,WAAxB,CAAlB;AACA,UAAI,IAAG,GAAI,SAAS,CAAC,KAAV,CAAgB,CAAhB,CAAX;AACA,UAAI,MAAK,GAAI,IAAI,UAAJ,EAAb;;AACA,MAAA,MAAM,CAAC,MAAP,GAAgB,UAAU,CAAV,EAAa;AACzB,QAAA,SAAS,CAAC,SAAV,wBAAmC,CAAC,CAAC,MAAF,CAAS,MAA5C;AACJ,OAFA;;AAGA,MAAA,MAAM,CAAC,OAAP,GAAiB,UAAS,CAAT,EAAW;AACxB,QAAA,KAAK,iBAAU,CAAV,EAAL;AACJ,OAFA;;AAGA,MAAA,MAAM,CAAC,aAAP,CAAqB,IAArB;AACH,KAtBK;AAuBN,IAAA,WAvBM,yBAuBQ;AAAA;;AACV,UAAM,QAAO,GAAI,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAAjB;AACA,UAAM,QAAO,GAAI,IAAI,QAAJ,CAAa,QAAb,CAAjB;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAA5C;;AACA,UAAI,QAAO;AAAA,2EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACU,KAAK,CAAC,cAAD,EAAiB;AACvC,oBAAA,MAAM,EAAE,MAD+B;AAEvC,oBAAA,IAAI,EAAE;AAFiC,mBAAjB,CADf;;AAAA;AACP,kBAAA,QADO;AAAA;AAAA,yBAKQ,QAAQ,CAAC,IAAT,EALR;;AAAA;AAKP,kBAAA,MALO;AAOX,kBAAA,KAAI,CAAC,IAAL,CAAU,GAAV,GAAgB,MAAhB;;AAPW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ;;AAAA,wBAAP,QAAO;AAAA;AAAA;AAAA,SAAX;;AASA,MAAA,QAAQ;AACZ;AArCM;AAZC,CAAf","sourcesContent":["<template>\n    <div class=\"add-todo container\">\n        <div class=\"add-todo__inner\">\n            <button type=\"button\" @click=\"$router.push({name : 'main'})\">На главную</button>\n        </div>\n        <form class=\"add-todo__form\" id=\"formElem\">\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Наименование задачи:</span> <input  type=\"text\" v-model=\"form.name\" placeholder=\"введите название\">\n            </div>\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Описание:</span> <textarea class=\"add-todo__description\" type=\"text\" v-model=\"form.description\" placeholder=\"опишите задачу\"></textarea>\n            </div>\n            <div class=\"add-todo__item\">\n                <span class=\"add-todo__name\">Статус:</span>\n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"for_execution\" value=\"К выполнению\" v-model=\"form.status\">  \n                    <label for=\"for_execution\">К выполнению</label>\n                </div> \n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"in_progress\" value=\"В процессе\" v-model=\"form.status\"> \n                    <label for=\"in_progress\">В процессе</label>\n                </div>\n                <div class=\"add-todo__input\">\n                    <input type=\"radio\" id=\"done\" value=\"Выполнено\" v-model=\"form.status\"> \n                    <label for=\"done\">Выполнено</label>\n                </div> \n            </div>\n            \n            <div class=\"add-todo__item add-todo__item--column\">\n                <div class=\"add-todo__preview\" id=\"preview\"></div>\n                <input class=\"add-todo__input--hide\" type=\"file\" name=\"picture\" id=\"formImage\" accept=\"image/*\" @change=\"showPicture\">\n                <label class=\"add-todo__button\" for=\"formImage\">Загрузите изображение</label>\n                \n            </div>\n            \n            <div class=\"add-todo__item\">\n                <button type=\"submit\" class=\"main__button\" @click=\"addTodo\">Добавить задачу</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            form : {\n                name : \"\",\n                description : \"\",\n                status : \"К выполнению\",\n                img : \"\"\n            },\n            formImage : document.getElementById(\"formImage\"),\n        }\n    },\n    methods : {\n        addTodo() {\n            if (document.getElementById(\"formImage\").files[0]) {\n                this.savePicture();\n                // this.form.img = this.savePicture();\n            }\n            this.$store.commit('ADD_TODO', this.form);\n            this.$router.push({name : 'main'});\n            this.$emit('todoAdded');\n        },\n        showPicture() {\n            const container = document.getElementById('preview');\n            const formImage = document.getElementById(\"formImage\");\n            let file = formImage.files[0];\n            let reader = new FileReader();\n            reader.onload = function (e) {\n                container.innerHTML = `<img src=\"${e.target.result}\" alt=\"photo\">`;\n            }\n            reader.onerror = function(e){\n                alert(`ERROR ${e}`);\n            }\n            reader.readAsDataURL(file);\n        },\n        savePicture() {\n            const formElem = document.getElementById('formElem');\n            const formData = new FormData(formElem);\n            formData.append('user', this.$store.getters.USER);\n            let sendForm = async () => {\n                let response = await fetch('saveFile.php', {\n                    method: 'POST',\n                    body: formData\n                });\n                let result = await response.text();\n                \n                this.form.img = result;\n            }\n            sendForm();\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.add-todo__inner{\n   display: flex;\n   justify-content: flex-start;\n}\n.add-todo__form{\n    display: flex;\n    flex-direction: column;\n}\n.add-todo__item{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 15px 0;\n    &--column{\n        flex-direction: column;\n    }\n    @media (max-width: 700px) {\n        flex-direction: column;\n    }\n}\n.add-todo__name{\n    margin-right: 20px;\n    font-weight: 600;\n}\n.add-todo__input{\n    margin: 5px 6px;\n    &--hide{\n        position: absolute;\n        z-index: -1;\n        opacity: 0;\n    }\n}\n.add-todo__description{\n    width: 100%;\n    max-width: 500px;\n    height: 100px;\n}\n.add-todo__button{\n    padding: 5px 10px;\n    background-color: white;\n    border-radius: 7px;\n    border: 2px solid #2c3e50;\n    color: #2c3e50;\n    transition: linear 0.2s;\n    margin: 5px;\n    &:hover {\n      background-color: lighten($color: #2c3e50, $amount: 65);\n    }\n}\n.add-todo__preview{\n    width: 300px;\n    max-height: 300px; \n    margin-bottom: 25px;\n    img{\n        object-fit: cover;\n    }\n}\n</style>"],"sourceRoot":""}]}