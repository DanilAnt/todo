{"remainingRequest":"/Users/Danil/Desktop/todo/node_modules/babel-loader/lib/index.js!/Users/Danil/Desktop/todo/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/Danil/Desktop/todo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Danil/Desktop/todo/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Danil/Desktop/todo/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/Users/Danil/Desktop/todo/src/App.vue","mtime":1630236363908},{"path":"/Users/Danil/Desktop/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Danil/Desktop/todo/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/Users/Danil/Desktop/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Danil/Desktop/todo/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBpZDogImFwcCIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfdmlldyA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItdmlldyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX3ZpZXcsIHsKICAgIG9uTG9nZ2VkT3V0OiAkb3B0aW9ucy5zYXZlVG9kb3MsCiAgICBvblRvZG9BZGRlZDogJG9wdGlvbnMuc2F2ZVRvZG9zLAogICAgb25Ub2RvRWRpdGVkOiAkb3B0aW9ucy5zYXZlVG9kb3MsCiAgICBvbkxvZ2dlZEluOiAkb3B0aW9ucy5sb2FkVG9kb3MKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25Mb2dnZWRPdXQiLCAib25Ub2RvQWRkZWQiLCAib25Ub2RvRWRpdGVkIiwgIm9uTG9nZ2VkSW4iXSldKTsKfQ=="},{"version":3,"sources":["/Users/Danil/Desktop/todo/src/App.vue"],"names":[],"mappings":";;AACO,EAAA,EAAE,EAAC;;;;;uBAAR,mBAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANJ,YAAA,CAKE,sBALF,EAKE;AAJK,IAAA,WAAU,EAAE,QAAA,CAAA,SAIjB;AAHK,IAAA,WAAU,EAAE,QAAA,CAAA,SAGjB;AAFK,IAAA,YAAW,EAAE,QAAA,CAAA,SAElB;AADK,IAAA,UAAS,EAAE,QAAA,CAAA;AAChB,GALF,E,IAAA,E;;AAAA,I,4DAAA,CAMI,CAPN,C","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view \n      v-on:logged-out=\"saveTodos\" \n      v-on:todo-added=\"saveTodos\" \n      v-on:todo-edited=\"saveTodos\"\n      v-on:logged-in=\"loadTodos\" \n    />\n  </div>\n</template>\n\n<script>\n\nexport default {\ncreated(){\n  this.$store.commit('SET_USER', localStorage.getItem('user'));\n  if(this.$store.getters.USER){\n    this.loadTodos();\n  }\n},\nbeforeUnmount() {\n  if(this.$store.getters.USER){\n    this.saveTodos();\n  }\n},\ncomponents : {\n  \n},\nmethods : {\n  saveTodos(){\n    const store = {};\n            store.todos = this.$store.getters.TODOS;\n            store.user = this.$store.getters.USER;\n            const str = JSON.stringify(store);\n            console.log(str);\n            let sendTodos = async () => {\n            let response = await fetch('http://localhost:8888/saveTodos.php', {\n                method : 'POST',\n                headers : {\n                'Content-Type' : 'application/json;charset=utf-8'\n                },\n                mode : 'cors',\n                body : str\n            });\n            let result = await response.text();\n            console.log(result);\n            }\n            sendTodos();\n  },\n  loadTodos(){\n    const user = this.$store.getters.USER;\n    let loadTodos = async () => {\n      let response = await fetch(`http://localhost:8888/loadTodos.php?user=${user}`);\n      let todos = await response.json();\n      console.log(todos);\n      \n      this.$store.commit('LOAD_TODOS', todos);\n    }\n    loadTodos();\n  },\n  whatch(){\n    this.$store.subscribe(() => {\n      alert(342324);\n      this.saveTodos();\n    })\n  }\n    \n},\n\n}\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n</style>\n"],"sourceRoot":""}]}